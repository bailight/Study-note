### 一、统计假设检验基础
##### 1. 原假设\(H_0\)(Нулевая гипотеза)和备择假设\(H_1\)(Альтернативная гипотеза)
- **定义**：原假设是待检验的假设，通常表示没有差异、没有关联等；备择假设是与原假设对立的假设，当有足够证据拒绝原假设时接受备择假设。
Нулевая гипотеза — это гипотеза, подлежащая проверке, обычно указывающая на отсутствие различий, связи и т. д.
Альтернативная гипотеза — это гипотеза, противоположная нулевой гипотезе, и альтернативная гипотеза принимается, когда имеются достаточные доказательства для отклонения нулевой гипотезы.
- **构建原则**：根据研究问题，将希望收集证据予以否定的假设设为原假设，与之对立的设为备择假设。(如果我们拒绝原假设，则选择备选假设)
**Принцип построения**: на основе исследовательского вопроса гипотеза, для опровержения которой вы хотите собрать доказательства, устанавливается в качестве нулевой гипотезы, а противоположная гипотеза устанавливается в качестве альтернативной гипотезы.

##### 2. 显著性水平 уровень значимости
- **概念**：是统计学假设检验中的关键概念，指当原假设为真时，拒绝原假设的概率，也叫第一类错误概率。用符号\(\alpha\)表示，常见取值为\(0.05\)（5%）或\(0.01\)（1%）。比如\(\alpha = 0.05\)，意味着有 5% 的概率在原假设正确时错误拒绝它。
Ключевая концепция в статистической проверке гипотез, которая относится к вероятности отклонения нулевой гипотезы, когда она верна, также называемой вероятностью ошибки I рода. Он обозначается символом \(\alpha\), а его общепринятые значения — \(0,05\) (5%) или \(0,01\) (1%). Например, \(\alpha = 0.05\) означает, что существует 5% вероятностxь ложного отклонения нулевой гипотезы, когда она верна.

- **作用**：用于确定检验的拒绝域。当检验统计量的值落在拒绝域内，就拒绝原假设；反之，则不拒绝原假设。它反映了对结果可靠性的要求，数值越低，对结果可靠性要求越高。与检验决策关系：若计算出的p值（检验统计量出现当前值或更极端值的概率 ）小于显著性水平\(\alpha\) ，就拒绝原假设；若p值大于等于\(\alpha\)，则不拒绝原假设。
**Функция**: Используется для определения области отторжения теста. Когда значение тестовой статистики попадает в область отклонения, нулевая гипотеза отклоняется; в противном случае нулевая гипотеза не отвергается. Он отражает требование надежности результатов. Чем ниже значение, тем выше требования к надежности результатов. Связь с решением по тесту: если вычисленное p-значение (вероятность появления тестовой статистики на текущем значении или более экстремальном значении) меньше уровня значимости \(\alpha\), нулевая гипотеза отклоняется; если p-значение больше или равно \(\alpha\), нулевая гипотеза не отвергается.


### 二、分布假设检验
##### 1.柯尔莫哥洛夫拟合优度检验 Тест согласия Колмогорова
- **适用范围**：适用于连续分布的检验。
  **Область применения**: Применимо к испытаниям непрерывного распределения. 
- **原理**：通过比较样本的经验分布函数\(F_n(x)\)和假设的理论分布函数\(F(x)\)之间的最大差异来判断样本是否来自该理论分布。
  **Принцип**: Сравнивая максимальную разницу между эмпирической функцией распределения выборки \(F_n(x)\) и предполагаемой теоретической функцией распределения \(F(x)\), мы можем определить, соответствует ли выборка теоретическому распределению.
- **检验统计量**：\(D_n=\sup_{x}|F_n(x)-F(x)|\) ，即经验分布函数和理论分布函数差值的上确界。通过计算该统计量的值，并与相应的临界值比较（或计算\(p\)值 ），若\(D_n\)大于临界值（或\(p\)值小于显著性水平\(\alpha\) ），则拒绝原假设，认为样本不服从假设的分布。
  **Тестовая статистика**: \(D_n=\sup_{x}|F_n(x)-F(x)|\), которая является супремумом разности между эмпирической функцией распределения и теоретической функцией распределения. Вычислив значение статистики и сравнив его с соответствующим критическим значением (или вычислив значение \(p\)), если \(D_n\) больше критического значения (или значение \(p\) меньше уровня значимости \(\alpha\)), нулевая гипотеза отвергается, и выборка считается не подчиняющейся предполагаемому распределению.

##### 2. 皮尔逊卡方拟合优度检验 Тест согласия Пирсона Хи-квадрат
- **适用范围**：用于离散分布的检验。
  **Область применения**: используется для тестирования дискретного распределения. 
- **原理**：基于样本的观测频数\(O_i\)和在假设分布下的理论频数\(E_i\) ，比较两者差异。
  **Принцип**: Сравните разницу между наблюдаемой частотой \(O_i\) образца и теоретической частотой \(E_i\) при предполагаемом распределении. 
- **检验统计量**：\(\chi^2=\sum_{i = 1}^{k}\frac{(O_i - E_i)^2}{E_i}\) ，其中\(k\)是类别数。计算出统计量后，与卡方分布的临界值比较（或计算\(p\)值 ），若\(\chi^2\)大于临界值（或\(p\)值小于\(\alpha\) ），拒绝原假设，即样本不服从假设的离散分布。
**Тестовая статистика**: \(\chi^2=\sum_{i = 1}^{k}\frac{(O_i - E_i)^2}{E_i}\) , где \(k\) — количество категорий. После вычисления статистики сравните ее с критическим значением распределения хи-квадрат (или вычислите значение \(p\)). Если \(\chi^2\) больше критического значения (или значение \(p\) меньше \(\alpha\)), отвергаем нулевую гипотезу, то есть выборка не подчиняется предполагаемому дискретному распределению.

### 三、两组数据分布比较检验
##### 1. 斯米尔诺夫同质性检验 Тест однородности Смирнова
- **原理**：比较两组样本的经验分布函数，判断它们是否来自相同的分布。Сравните эмпирические функции распределения двух групп выборок, чтобы определить, происходят ли они из одного и того же распределения.
- **检验统计量**：计算两组样本经验分布函数差值的上确界等相关统计量，依据统计量的值与临界值比较（或\(p\)值 ）进行决策。若统计量超出临界值（或\(p\)值小于\(\alpha\) ），拒绝原假设，认为两组数据分布不同。вычислите супремум разницы между эмпирическими функциями распределения двух групп выборок и другими связанными статистиками и примите решения на основе сравнения статистического значения с критическим значением (или значением \(p\)). Если статистика превышает критическое значение (или значение \(p\) меньше \(\alpha\)), нулевая гипотеза отклоняется, и считается, что две группы данных имеют различные распределения.

##### 2. 卡方检验（用于两组数据分布比较）Тест хи-квадрат
- **应用场景**：常用于检验两个分类变量之间的关联性，也可用于比较两组数据在分类特征上的分布是否相同（如通过列联表形式呈现数据）。
Его часто используют для проверки связи между двумя категориальными переменными, а также для сравнения того, одинаково ли распределение двух наборов данных с точки зрения категориальных характеристик (например, представление данных в виде таблицы сопряженности).
- **检验统计量计算**：依据列联表中的观测频数和期望频数，按照\(\chi^2=\sum_{i,j}\frac{(O_{ij}-E_{ij})^2}{E_{ij}}\) 计算（\(i,j\)表示列联表的行列索引 ），后续决策方式同上述卡方拟合优度检验。
В соответствии с наблюдаемой частотой и ожидаемой частотой в таблице сопряженности расчет выполняется по формуле \(\chi^2=\sum_{i,j}\frac{(O_{ij}-E_{ij})^2}{E_{ij}}\) (\(i,j\) представляет собой индекс строки и столбца таблицы сопряженности), а последующий метод принятия решений такой же, как и в приведенном выше тесте согласия хи-квадрат.

##### 3. F - 检验和t - 检验 / F-тест и t-тест
- **F - 检验**：常用于方差齐性检验，判断两组定量数据的总体方差是否相等。检验统计量\(F = \frac{s_1^2}{s_2^2}\) （\(s_1^2\)、\(s_2^2\)分别为两组数据样本方差 ），通过与\(F\)分布临界值比较（或\(p\)值判断 ）决策。
**F-тест**: обычно используется в тесте однородности дисперсии, чтобы определить, равны ли дисперсии совокупности двух наборов количественных данных. Тестовая статистика \(F = \frac{s_1^2}{s_2^2}\) (\(s_1^2\) и \(s_2^2\) — выборочные дисперсии двух групп данных соответственно), а решение принимается путем сравнения с критическим значением распределения \(F\) (или на основании значения \(p\)).

- **t - 检验**：在方差齐性满足时，用于检验两组定量数据的总体均值是否相等。单样本\(t\) - 检验用于检验样本均值与已知总体均值的差异；独立样本\(t\) - 检验用于两组独立样本；配对样本\(t\) - 检验用于配对数据。根据不同情况计算相应\(t\)统计量，与\(t\)分布临界值比较（或\(p\)值判断 ）决策。
**t-тест**: если выполняется условие однородности дисперсии, он используется для проверки того, равны ли средние значения совокупности двух групп количественных данных. Одновыборочный t-тест используется для проверки разницы между средним значением выборки и известным средним значением популяции; t-критерий для независимых выборок используется для двух независимых выборок; а для парных данных используется парный t-тест. Рассчитайте соответствующую статистику \(t\) в соответствии с различными ситуациями, сравните ее с критическим значением распределения \(t\) (или оценочным суждением \(p\)), чтобы принять решение.

### 四、相关性检验
##### 1. 皮尔逊相关系数
 - **适用场景**：衡量两个定量变量之间的线性相关程度。
 - **计算方法**：\(r=\frac{\sum_{i = 1}^{n}(x_i-\overline{x})(y_i-\overline{y})}{\sqrt{\sum_{i = 1}^{n}(x_i-\overline{x})^2\sum_{i = 1}^{n}(y_i-\overline{y})^2}}\) ，分子是协方差，反映两变量变化一致性；分母是两变量标准差乘积，起归一化作用。其中\(x_i\)、\(y_i\)为变量观测值，\(\overline{x}\)、\(\overline{y}\)为均值，\(n\)为样本量。\(r\)取值范围\([-1,1]\) ，绝对值越接近\(1\)线性相关性越强，接近\(0\)线性相关性弱。一般\(0.8 - 1.0\)为极强相关，\(0.6 - 0.8\)为强相关，\(0.4 - 0.6\)为中等程度相关，\(0.2 - 0.4\)为弱相关，\(0.0 - 0.2\)为极弱相关或无相关 。正数表示正相关，负数表示负相关 。
 - **假设检验**：检验相关系数是否为\(0\) ，构建原假设\(H_0:\rho = 0\)（\(\rho\)为总体相关系数 ），计算\(t=\frac{r\sqrt{n - 2}}{\sqrt{1 - r^2}}\) ，服从自由度为\(n - 2\)的\(t\)分布，通过与临界值比较（或\(p\)值判断 ）确定相关性是否显著。
- **约束条件**：要求变量均符合正态分布，且二元分布也符合正态分布 。实际应用中常检验数据正态性后使用，如在分析某些自然科学实验数据、社会调查的连续型数据（符合正态假设时 ）等场景。 

##### 2. 斯皮尔曼相关系数
- **适用场景**：衡量两个变量之间的单调相关程度，不局限于线性关系，对数据分布要求相对宽松。（是等级相关系数，评估两个 rank（排序后 ）变量间关联的强度和方向）
- **计算方法**：一般先对数据进行排序得到秩次，再根据秩次计算。如\(r_s = 1-\frac{6\sum_{i = 1}^{n}d_i^2}{n(n^2 - 1)}\)，\(d_i\)为对应观测值秩次之差，\(n\)为样本量。取值范围也是\([-1,1]\) ，含义同皮尔逊相关系数。取值范围同样是\(-1\)到\(+1\)，\(+1\)表示完全正相关，\(-1\)表示完全负相关，\(0\)表示无相关。
- **假设检验**：类似皮尔逊相关系数检验，构建原假设\(H_0:\rho_s = 0\)（\(\rho_s\)为总体斯皮尔曼相关系数 ），可通过相应统计量和分布（如大样本时近似正态分布 ）进行检验决策。 


---
### 总体要求
对于每个问题，需要进行两个统计检验（除非另有说明）。第一个检验需要独立完成，即计算并得出统计量的值、临界值、p值 ；第二个检验可以使用现成的实现（可能指借助软件等工具 ）。同时，需要分别说明所选检验的原假设 \(H_0\) 和备择假设 \(H_1\) 的表述形式，显著性水平自行选择。

### 题目具体内容及步骤
1. **问题1**
    - **任务**：推测房价遵循何种概率分布，并通过统计检验来验证或反驳该假设。如果分布是绝对连续的，第一个检验使用柯尔莫哥洛夫拟合优度检验；如果分布是离散的，使用皮尔逊卡方拟合优度检验。
    - **步骤**
        - **假设设定**：根据对房价数据的初步认识或经验，提出房价可能服从的概率分布（如正态分布、指数分布等 ），并分别设定原假设 \(H_0\) （如“房价服从正态分布”）和备择假设 \(H_1\) （如“房价不服从正态分布”） 。
        - **计算统计量**：根据数据类型（连续或离散），选择相应检验方法（柯尔莫哥洛夫检验或皮尔逊卡方检验 ）。收集房价数据，按照所选检验方法的公式计算统计量的值。
        - **确定临界值和p值**：根据选定的显著性水平（如0.05 ），查阅对应检验方法的临界值表得到临界值；也可通过统计软件或特定算法计算p值。
        - **做出决策**：比较计算得到的统计量与临界值，或者根据p值与显著性水平的大小关系，决定是接受还是拒绝原假设。
2. **问题2**
    - **任务**：判断新旧公寓的房价分布是否相同（自行选择年龄阈值 ）。第一个检验可使用斯米尔诺夫同质性检验、卡方检验、f - 检验 + t - 检验。
    - **步骤**
        - **确定年龄阈值并分组**：自行确定一个年龄值作为新旧公寓的划分界限，将数据分为新公寓房价数据组和旧公寓房价数据组。
        - **假设设定**：设定原假设 \(H_0\) （如“新旧公寓房价分布相同”）和备择假设 \(H_1\) （如“新旧公寓房价分布不同”） 。
        - **选择检验方法并计算**：从指定的检验方法（斯米尔诺夫同质性检验、卡方检验、f - 检验 + t - 检验 ）中选择一种，收集两组数据，按照所选检验方法的公式计算统计量的值。
        - **确定临界值和p值**：依据选定的显著性水平，获取对应检验方法的临界值或计算p值。
        - **决策**：依据统计量与临界值的比较结果或p值与显著性水平的比较结果，判断是否拒绝原假设。 
3. **问题3**
    - **任务**：判断随着“居住面积”增加，房价是否也增加。第一个检验使用相关系数的某种检验准则。
    - **步骤**
        - **假设设定**：设定原假设 \(H_0\) （如“居住面积与房价之间不存在正相关关系”，即相关系数 \(\rho\leqslant0\) ）和备择假设 \(H_1\) （如“居住面积与房价之间存在正相关关系”，即相关系数 \(\rho > 0\) ） 。
        - **计算相关系数及统计量**：收集居住面积和房价的对应数据，计算相关系数（如皮尔逊相关系数），再根据所选的相关系数检验准则，计算相应的统计量。
        - **确定临界值和p值**：根据选定的显著性水平，查找或计算临界值、p值。
        - **做出判断**：通过比较统计量与临界值，或者p值与显著性水平，决定是否拒绝原假设。 


---
##### 第一类错误
 - **定义**：也叫“弃真错误” ，指原假设 \(H_0\) 实际上是正确的，但由于样本的随机性等原因，检验统计量的值落入了拒绝域，从而错误地拒绝了原假设 \(H_0\) 。简单理解就是把正确的当成错误的拒绝掉了 。比如在法庭审判中，被告实际上是好人（原假设成立 ），但却被判有罪（拒绝原假设 ） ；医学检测里，把健康人（原假设健康 ）误诊为病人 。
 - **概率表示**：通常用 \(\alpha\) 表示，称为显著性水平 。它是在进行假设检验前，人为设定的一个小概率值，常见取值有 \(0.05\)、\(0.01\) 等 。例如当 \(\alpha = 0.05\) 时，意味着在原假设正确的情况下，平均每100次检验中，大约会有5次错误地拒绝原假设 。
 -  
##### 第二类错误
 - **定义**：也称“纳伪错误” ，即原假设 \(H_0\) 实际上是错误的，但检验统计量的值却落入了接受域，导致没有拒绝原假设 \(H_0\) 。也就是把错误的当成正确的接受了 。比如法庭审判中，被告是坏人（原假设不成立 ），但却被判无罪（没有拒绝原假设 ） ；医学检测中，把病人（原假设患病 ）误判为健康人 。 
 - **概率表示**：一般用 \(\beta\) 表示 。\(\beta\) 值不是预先设定的，其大小受多种因素影响，如参数的实际值与假设值之间的距离（距离越大，\(\beta\) 值越小 ）、显著性水平 \(\alpha\) （\(\alpha\) 值越大，\(\beta\) 值越小 ）等 ，通常较难确切估计 。

**二者关系**：在样本量固定时，\(\alpha\) 和 \(\beta\) 此消彼长 。若想减小第一类错误概率 \(\alpha\) ，比如降低显著性水平，会使拒绝域变小，接受域变大，从而增加犯第二类错误的概率 \(\beta\) ；反之，若想减小 \(\beta\) ，则会增大 \(\alpha\) 。要同时减小 \(\alpha\) 和 \(\beta\) ，通常需要增加样本容量 。 